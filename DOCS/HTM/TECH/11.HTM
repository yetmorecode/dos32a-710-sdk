<HTML>
<HEAD>
  <TITLE>DOS/32 Advanced DOS Extender - Documentation: Technical Reference [Spawning]</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" LINK="#0000f0" ALINK="#f00000" VLINK="#700070">

<style type=text/css>
a:hover { color: #FF0000 }
p		{ text-align: justify; }
</style>
<table cellpadding="0" cellspacing="0" border="0" width="660"><tr><td>



<P>&nbsp;</P>

<P><CENTER><B><I><FONT COLOR="#990000" SIZE=+2>DOS/32 Advanced DOS Extender
- Technical Reference</FONT></I></B></CENTER></P>

<P><CENTER><HR WIDTH="90%" SIZE="1"></CENTER></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica"><BR>
</FONT><B><FONT FACE="Verdana, Arial, Helvetica">11.0 - Spawning programs
under DOS/32 Advanced<BR>
</FONT></B></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">When spawning programs
under different DOS Extenders, the major problem that often arises is sharing
of extended memory. DOS/32 Advanced solves this problem in a very efficient
way and features a very fast and reliable spawning when using extended DOS
function AX=4B00h. Basically, there are two different modes of spawning
applications under DOS/32 Advanced.</FONT></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">The first mode applies
when spawning a DOS/32 Advanced non-compatible application, for example
a DOS/4GW program. By default, DOS/32 Advanced will allocate all extended
memory available in the machine, however this can be changed by specifying
the amount of memory for DOS/32A to allocate. This can be easily done by
either adding an &quot;EXTMEM:&quot; option to DOS/32 Advanced environment
variable DOS32A, followed by the number of KB of memory to allocate, or
by configuring DOS/32 Advanced with the <A HREF="../util/3.htm">SUNSYS Setup
Utility</A> program. When
the DOS Extender will be started, it will only allocate the specified amount
of extended memory, leaving the rest to the application it will spawn.</FONT></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">The second mode is designed
especially for situations when the both applications, ie the spawning program
and the program that is to be spawned are both DOS/32 Advanced compatible.
This mode is the default spawning mode for DOS/32 Advanced DOS Extender.
At startup, DOS/32 Advanced will try to autodetect if it was spawned from
another DOS/32A compatible application. If that is the case, the spawned
program, the &quot;child process&quot;, will be able to share the extended
memory with the host application, the &quot;parent process&quot;. It is
important to understand, that DOS/32 Advanced DOS Extender will not release
the allocated extended memory when spawning programs. This is done so to
achieve the maximum speed possible, which when combined with DOS/32 Advanced
short startup time will give you great results.</FONT></P>

<P><BR></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">However, the second mode
restricts you with some limitations:</FONT></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">1) To allow sharing of
extended memory, the both &quot;child&quot; and &quot;parent&quot; processes
must be DOS/32 Advanced compatible applications, ie they both must run under
DOS/32 Advanced DOS Extender.</FONT></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">2) The both applications
must use the same version of DOS/32 Advanced. That is, if you for example
have one application bound to DOS/32A v4.00, and the other is using DOS/32A
v5.00 the spawning will not work!</FONT></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">3) If the applications
that are to be spawned are bound to the multiple copies of DOS/32 Advanced
DOS Extender executable <I>dos32a.exe</I>, or to DOS/32 Advanced Configurable
stub file <I>stub32c.exe</I> (as opposed to applications bound to DOS/32
Advanced Standard stub file <I>stub32a.exe</I>), the DOS Extenders/Stub
files must have the same configuration. In particular, the following settings
must be configured equally (refer to <A HREF="../util/3.htm">
SUNSYS Setup Utility</A> documentation):</FONT></P>

<BLOCKQUOTE>
  <P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">VCPI PageTables<BR>
  VCPI PhysTables<BR>
  Extended Memory</FONT></P>
</BLOCKQUOTE>

<P>&nbsp;</P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">The two modes described
above can certainly be combined to allow spawning applications which either
support DOS/32 Advanced memory sharing or don't. For example, if you have
several applications which run under DOS/32 Advanced DOS Extender and another
bunch of applications which run under, say DOS/4GW, you can manually adjust
the amount of memory for the first DOS/32 Advanced started, which will cause
all DOS/32 Advanced compatible programs to use that amount of memory, and
the other programs to allocate the rest of the memory from the system.</FONT></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">Please note, that if the
program you intend to spawn from DOS/32 Advanced does not require any extended
memory, these spawning modes will not be used and the program will simply
be started as if it was running in real mode DOS. </FONT></P>

<P>&nbsp;</P>

<P><CENTER><HR WIDTH="90%" SIZE="1"></CENTER></P>
<P><CENTER><FONT SIZE=-2 FACE="Verdana, Arial, Helvetica">Copyright © Supernar Systems, Ltd. 1996-2002<br>All Rights Reserved.</FONT></CENTER>
</BODY>
</HTML>
