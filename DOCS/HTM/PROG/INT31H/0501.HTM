<HTML>
<HEAD>
  <TITLE>DOS/32 Advanced DOS Extender - Documentation: Programmer's Reference []</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" LINK="#0000f0" ALINK="#f00000" VLINK="#700070">

<style type=text/css>
a:hover { color: #FF0000 }
p		{ text-align: justify; }
</style>
<table cellpadding="0" cellspacing="0" border="0" width="660"><tr><td>



<P>&nbsp;</P>

<P><CENTER><B><I><FONT COLOR="#990000" SIZE=+2>DOS/32 Advanced DOS Extender
- Programmer's Reference</FONT></I></B></CENTER></P>

<P><CENTER><HR WIDTH="90%" SIZE="1"></CENTER></P>

<P><B><FONT FACE="Verdana, Arial, Helvetica">2.32 - DPMI function 0501h
- Allocate Memory Block</FONT></B></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">Allocates and commits
a block of linear memory.</FONT></P>

<P>&nbsp;</P>

<P><CENTER><TABLE WIDTH="90%" BORDER="1" CELLSPACING="0" CELLPADDING="4">
<TR>
<TD WIDTH="10%" VALIGN="TOP" BGCOLOR="#eeeeee"><B><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">In:</FONT></B></TD>
<TD WIDTH="90%" VALIGN="TOP" BGCOLOR="#eeeeee"><B><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">AX</FONT></B><FONT SIZE=-1
 FACE="Verdana, Arial, Helvetica"> = 0501h<BR>
<B>BX:CX</B> = size of block (bytes, must be nonzero)</FONT></TD></TR>
<TR>
<TD WIDTH="10%" VALIGN="TOP" BGCOLOR="#dedede"><B><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">Out:</FONT></B></TD>
<TD WIDTH="90%" VALIGN="TOP" BGCOLOR="#dedede"><P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">if successful:<BR>
<B>CF</B> clear<BR>
<B>BX:CX</B> = linear address of allocated memory block<BR>
<B>SI:DI</B> = memory block handle (used to resize and free block)</FONT></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">if failed:<BR>
<B>CF</B> set<BR>
<B>AX</B> = error code</FONT></P>

<BLOCKQUOTE>
  <P><B><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">8012h</FONT></B><FONT
   SIZE=-1 FACE="Verdana, Arial, Helvetica"> - linear memory unavailable<BR>
  <B>8013h</B> - physical memory unavailable<BR>
  <B>8014h</B> - backing store unavailable<BR>
  <B>8016h</B> - handle unavailable<BR>
  <B>8021h</B> - invalid value (BX:CX = 0)</FONT></BLOCKQUOTE>
</TD></TR>
</TABLE>
</CENTER></P>

<P><B><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">Notes: </FONT></B></P>

<BLOCKQUOTE>
  <P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">a) The allocated block
  is guaranteed to have at least paragraph alignment. Under DOS/32 Advanced
  DPMI the blocks will be DWORD aligned only.</FONT></P>
  <P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">b) This function does
  not allocate any descriptors for the memory block. It is the responsibility
  of the client to allocate and initialize any descriptors needed to access
  the memory with additional DPMI function calls.</FONT></P>
  <P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">c) Under DPMI hosts that
  support virtual memory, the memory block will be allocated unlocked. The
  client can lock some or all of the memory after it is allocated with the
  Lock Linear Region DPMI function 0600h. </FONT></P>
</BLOCKQUOTE>

<P>&nbsp;</P>
<P><CENTER><HR WIDTH="90%" SIZE="1"></CENTER></P>
<P><CENTER><FONT SIZE=-2 FACE="Verdana, Arial, Helvetica">Copyright © Supernar Systems, Ltd. 1996-2002<br>All Rights Reserved.</FONT></CENTER>
</BODY>
</HTML>
