<HTML>
<HEAD>
  <TITLE>DOS/32 Advanced DOS Extender - Documentation: Programmer's Reference []</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" LINK="#0000f0" ALINK="#f00000" VLINK="#700070">

<style type=text/css>
a:hover { color: #FF0000 }
p		{ text-align: justify; }
</style>
<table cellpadding="0" cellspacing="0" border="0" width="660"><tr><td>



<P>&nbsp;</P>

<P><CENTER><B><I><FONT COLOR="#990000" SIZE=+2>DOS/32 Advanced DOS Extender
- Programmer's Reference</FONT></I></B></CENTER></P>

<P><CENTER><HR WIDTH="90%" SIZE="1"></CENTER></P>

<P><B><FONT FACE="Verdana, Arial, Helvetica">2.07 - DPMI function 0008h
- Set Segment Limit</FONT></B></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">Sets the limit field in
the descriptor table for the specified segment.</FONT></P>

<P>&nbsp;</P>

<P><CENTER><TABLE WIDTH="90%" BORDER="1" CELLSPACING="0" CELLPADDING="4">
<TR>
<TD WIDTH="10%" VALIGN="TOP" BGCOLOR="#eeeeee"><B><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">In:</FONT></B></TD>
<TD WIDTH="90%" VALIGN="TOP" BGCOLOR="#eeeeee"><B><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">AX</FONT></B><FONT SIZE=-1
 FACE="Verdana, Arial, Helvetica"> = 0008h<BR>
<B>BX</B> = selector<BR>
<B>CX:DX</B> = 32-bit segment limit</FONT></TD></TR>
<TR>
<TD WIDTH="10%" VALIGN="TOP" BGCOLOR="#dedede"><B><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">Out:</FONT></B></TD>
<TD WIDTH="90%" VALIGN="TOP" BGCOLOR="#dedede"><P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">if successful:<BR>
<B>CF</B> clear</FONT></P>

<P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">if failed:<BR>
<B>CF</B> set<BR>
<B>AX</B> = error code</FONT></P>

<BLOCKQUOTE>
  <P><B><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">8021h</FONT></B><FONT
   SIZE=-1 FACE="Verdana, Arial, Helvetica"> - invalid value (the limit is
  greater than 1 MB but the low 12 bits are not set)<BR>
  <B>8022h</B> - invalid selector<BR>
  <B>8025h</B> - invalid linear address (changing the limit would cause the
  descriptor to reference a linear address range outside that allowed for
  DPMI clients.)</FONT></BLOCKQUOTE>
</TD></TR>
</TABLE>
</CENTER></P>

<P><B><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">Notes:</FONT></B></P>

<BLOCKQUOTE>
  <P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">a) The value supplied
  to the function in CX:DX is the byte length of the segment-1 (ie, the value
  returned by the LSL instruction).</FONT></P>
  <P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">b) Segment limits greater
  than or equal to 1 MB must be page-aligned. That is, limits greater than
  1 MB must have the low 12 bits set.</FONT></P>
  <P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">c) This function has
  an implicit effect on the &quot;G&quot; (granularity) bit in an 80386+
  descriptor's extended access rights/type byte; ie, it is the host's responsibility
  to set the &quot;G&quot; bit correctly.</FONT></P>
  <P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">d) Client programs must
  use the LSL instruction to query the limit for a descriptor. Note that
  on 80386 machines, the client must use the 32-bit form of LSL if the segment
  size is greater than 64 KB.</FONT></P>
  <P><FONT SIZE=-1 FACE="Verdana, Arial, Helvetica">e) DOS/32 Advanced DPMI
  and DPMI 1.0 hosts will reload any segment registers which contain the
  selector specified in register BX.</FONT></P>
</BLOCKQUOTE>

<P>&nbsp;</P>
<P><CENTER><HR WIDTH="90%" SIZE="1"></CENTER></P>
<P><CENTER><FONT SIZE=-2 FACE="Verdana, Arial, Helvetica">Copyright © Supernar Systems, Ltd. 1996-2002<br>All Rights Reserved.</FONT></CENTER>
</BODY>
</HTML>
